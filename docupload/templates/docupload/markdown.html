{% extends "docupload/base.html" %}

{% block jslink %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.3.0/showdown.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
{% endblock jslink %}

{% block style %}
    .well {
        background: white;
    }
    body {
        background: black;
    }
{% endblock style %}

{% block bar %}
    <div class="navbar navbar-inverse navbar-static-top" role="navigation" style="margin: 0; padding: 0">
    <a class="navbar-brand" rel="home" href='#' title="OKSP">OKSP</a>
    </div>
{% endblock bar %}

{% block content %} 
    <div class="jumbotron" style="background: black;">
        <div class="container">
            <h1 style="text-align: center; color: white;">Markdown Editor</h1>
        </div>
        <textarea id="sourceTA" rows="25" style="width: 49%; display: inline-block;" class="well" placeholder="Start writing here"></textarea>
        <div id='targetDiv' style="float: right; width: 49%; overflow: scroll; height: 38.5em;" class="well"></div>
        <hr/>
        <script> 
            function run() {
                var text = document.getElementById('sourceTA').value,
                target = document.getElementById('targetDiv'),
                converter = new showdown.Converter(),
                html = converter.makeHtml(text);

                target.innerHTML = html;
            }

            $('#sourceTA').on('change keyup paste', function() {
                run();
                console.log(this.value);    
            });
        </script>
    </div>
{% endblock content %}